<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="在线 HTML 和 Markdown 实时预览工具，支持代码编辑、即时渲染、全屏预览。无需安装，开箱即用的前端开发工具。">
    <meta name="keywords" content="HTML预览,Markdown预览,实时渲染,代码编辑器,在线工具,前端开发,文档编辑">
    <meta name="author" content="HTML Preview Tool">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#3B82F6">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://preview.lhqs.ink/">
    <meta property="og:title" content="HTML/Markdown 实时预览工具 - 在线代码编辑器">
    <meta property="og:description" content="免费的在线 HTML 和 Markdown 实时预览工具，支持代码编辑、即时渲染、全屏预览。无需安装，开箱即用。">
    <meta property="og:image" content="https://preview.lhqs.ink/preview-image.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://preview.lhqs.ink/">
    <meta property="twitter:title" content="HTML/Markdown 实时预览工具">
    <meta property="twitter:description" content="在线 HTML 和 Markdown 实时预览工具，支持代码编辑、即时渲染、全屏预览。">
    <meta property="twitter:image" content="https://preview.lhqs.ink/preview-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E📝%3C/text%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E📝%3C/text%3E%3C/svg%3E">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://preview.lhqs.ink/">
    
    <title>HTML/Markdown 实时预览工具 - 在线代码编辑器</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "HTML/Markdown 实时预览工具",
        "description": "在线 HTML 和 Markdown 实时预览工具，支持代码编辑、即时渲染、全屏预览。",
        "url": "https://preview.lhqs.ink/",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "HTML 实时预览",
            "Markdown 实时预览",
            "全屏预览模式",
            "响应式设计",
            "无需安装"
        ]
    }
    </script>
</head>
<body class="bg-gray-50 h-screen overflow-hidden">
    <div class="h-full flex flex-col">
        <div class="bg-white shadow-sm border-b border-gray-200 px-4 py-2 flex items-center justify-between">
            <h1 class="text-lg font-semibold text-gray-800">HTML/Markdown 实时预览工具</h1>
            <div class="flex items-center space-x-2">
                <div class="flex bg-gray-100 rounded-lg p-1">
                    <button 
                        id="htmlModeBtn"
                        class="px-3 py-1 text-sm rounded transition-colors bg-blue-500 text-white"
                    >
                        HTML
                    </button>
                    <button 
                        id="markdownModeBtn"
                        class="px-3 py-1 text-sm rounded transition-colors text-gray-600 hover:bg-gray-200"
                    >
                        Markdown
                    </button>
                </div>
                
                <button 
                    id="fullscreenBtn"
                    class="px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"
                >
                    全屏预览
                </button>
                <a 
                    href="https://github.com/lhqs1314/html-and-markdown-preview"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="p-2 text-gray-600 hover:text-gray-800 transition-colors"
                    title="在GitHub上查看项目"
                >
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
            </div>
        </div>
        
        <div class="flex-1 grid grid-cols-2 gap-0">
            <!-- 左侧 HTML 输入区域 -->
            <div class="bg-white border-r border-gray-200 flex flex-col">
                <div class="bg-gray-50 px-3 py-2 border-b border-gray-200">
                    <h2 id="inputTitle" class="text-sm font-medium text-gray-700">HTML 代码</h2>
                </div>
                <textarea 
                    id="htmlInput" 
                    class="flex-1 w-full resize-none border-0 p-3 font-mono text-sm focus:outline-none"
                    placeholder="在这里输入 HTML 代码..."
                ><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>示例页面</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        h1 { color: #333; }
        .highlight { background-color: #ffeb3b; padding: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>欢迎使用 HTML 预览工具</h1>
        <p>这是一个<span class="highlight">实时预览</span>的示例。</p>
        <ul>
            <li>修改左侧代码</li>
            <li>右侧即时显示效果</li>
            <li>支持完整的 HTML/CSS/JS</li>
        </ul>
    </div>
</body>
</html></textarea>
            </div>
            
            <!-- 右侧预览区域 -->
            <div class="bg-white flex flex-col">
                <div class="bg-gray-50 px-3 py-2 border-b border-gray-200">
                    <h2 id="previewTitle" class="text-sm font-medium text-gray-700">预览效果</h2>
                </div>
                <div class="flex-1 overflow-hidden">
                    <iframe 
                        id="preview" 
                        class="w-full h-full border-0"
                        sandbox="allow-scripts allow-same-origin"
                    ></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- 全屏预览模态框 -->
    <div id="fullscreenModal" class="fixed inset-0 bg-white hidden z-50 opacity-0 transition-opacity duration-300">
        <div class="h-full flex flex-col">
            <div class="bg-gray-100 px-4 py-2 flex items-center justify-between border-b border-gray-200">
                <h3 class="text-lg font-semibold text-gray-800">全屏预览</h3>
                <button 
                    id="closeFullscreenBtn"
                    class="px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors"
                >
                    退出全屏
                </button>
            </div>
            <div class="flex-1 bg-white">
                <iframe 
                    id="fullscreenPreview" 
                    class="w-full h-full border-0 bg-white"
                    sandbox="allow-scripts allow-same-origin"
                ></iframe>
            </div>
        </div>
    </div>

    <script>
        const htmlInput = document.getElementById('htmlInput');
        const preview = document.getElementById('preview');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const fullscreenModal = document.getElementById('fullscreenModal');
        const fullscreenPreview = document.getElementById('fullscreenPreview');
        const closeFullscreenBtn = document.getElementById('closeFullscreenBtn');
        const htmlModeBtn = document.getElementById('htmlModeBtn');
        const markdownModeBtn = document.getElementById('markdownModeBtn');
        const inputTitle = document.getElementById('inputTitle');
        const previewTitle = document.getElementById('previewTitle');
        
        let currentMode = 'html';
        
        const markdownSample = `# 欢迎使用 Markdown 预览工具

这是一个 **Markdown** 实时预览示例。

## 功能特性

- ✅ 实时渲染
- ✨ 支持所有标准 Markdown 语法
- 📱 全屏预览模式
- 🎨 美观的样式

## 代码示例

\`\`\`javascript
function hello() {
    console.log('你好，Markdown!');
}
\`\`\`

## 表格支持

| 特性 | 支持 | 说明 |
|------|------|------|
| 标题 | ✓ | H1-H6 |
| 列表 | ✓ | 有序/无序 |
| 代码 | ✓ | 行内和代码块 |
| 链接 | ✓ | [访问 GitHub](https://github.com) |

> 这是一个引用文本示例。
`;
        
        const htmlSample = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>示例页面</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        h1 { color: #333; }
        .highlight { background-color: #ffeb3b; padding: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>欢迎使用 HTML 预览工具</h1>
        <p>这是一个<span class="highlight">实时预览</span>的示例。</p>
        <ul>
            <li>修改左侧代码</li>
            <li>右侧即时显示效果</li>
            <li>支持完整的 HTML/CSS/JS</li>
        </ul>
    </div>
</body>
</html>`;

        function updatePreview() {
            const inputContent = htmlInput.value;
            let htmlContent;
            
            if (currentMode === 'markdown') {
                const markdownHtml = marked.parse(inputContent);
                htmlContent = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown 预览</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 10px; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 8px; }
        h3 { font-size: 1.25em; }
        p { margin-bottom: 16px; }
        ul, ol { padding-left: 30px; margin-bottom: 16px; }
        li { margin-bottom: 4px; }
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
        }
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            max-width: auto;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 16px;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
            margin-bottom: 16px;
            width: 100%;
        }
        table th, table td {
            border: 1px solid #dfe2e5;
            padding: 6px 13px;
        }
        table th {
            background-color: #f6f8fa;
            font-weight: 600;
        }
        a {
            color: #0366d6;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    ${markdownHtml}
</body>
</html>`;
            } else {
                htmlContent = inputContent;
            }
            
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            preview.onload = () => URL.revokeObjectURL(url);
            preview.src = url;
            
            if (!fullscreenModal.classList.contains('hidden')) {
                const fullscreenBlob = new Blob([htmlContent], { type: 'text/html' });
                const fullscreenUrl = URL.createObjectURL(fullscreenBlob);
                fullscreenPreview.onload = () => URL.revokeObjectURL(fullscreenUrl);
                fullscreenPreview.src = fullscreenUrl;
            }
        }

        function openFullscreen() {
            const inputContent = htmlInput.value;
            let htmlContent;
            
            if (currentMode === 'markdown') {
                const markdownHtml = marked.parse(inputContent);
                htmlContent = getMarkdownHtmlTemplate(markdownHtml);
            } else {
                htmlContent = inputContent;
            }
            
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            fullscreenPreview.onload = () => {
                URL.revokeObjectURL(url);
                fullscreenModal.classList.remove('opacity-0');
            };
            fullscreenPreview.src = url;
            
            fullscreenModal.classList.remove('hidden');
        }

        function closeFullscreen() {
            fullscreenModal.classList.add('opacity-0');
            setTimeout(() => {
                fullscreenModal.classList.add('hidden');
            }, 300);
        }

        htmlInput.addEventListener('input', updatePreview);
        function switchMode(mode) {
            if (mode === currentMode) return;
            
            currentMode = mode;
            
            if (mode === 'html') {
                htmlModeBtn.className = 'px-3 py-1 text-sm rounded transition-colors bg-blue-500 text-white';
                markdownModeBtn.className = 'px-3 py-1 text-sm rounded transition-colors text-gray-600 hover:bg-gray-200';
                inputTitle.textContent = 'HTML 代码';
                htmlInput.placeholder = '在这里输入 HTML 代码...';
                if (htmlInput.value === markdownSample || htmlInput.value === '') {
                    htmlInput.value = htmlSample;
                }
            } else {
                markdownModeBtn.className = 'px-3 py-1 text-sm rounded transition-colors bg-blue-500 text-white';
                htmlModeBtn.className = 'px-3 py-1 text-sm rounded transition-colors text-gray-600 hover:bg-gray-200';
                inputTitle.textContent = 'Markdown 代码';
                htmlInput.placeholder = '在这里输入 Markdown 代码...';
                if (htmlInput.value === htmlSample || htmlInput.value === '') {
                    htmlInput.value = markdownSample;
                }
            }
            
            updatePreview();
        }
        
        function getMarkdownHtmlTemplate(markdownHtml) {
            return `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown 预览</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 10px; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 8px; }
        h3 { font-size: 1.25em; }
        p { margin-bottom: 16px; }
        ul, ol { padding-left: 30px; margin-bottom: 16px; }
        li { margin-bottom: 4px; }
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
        }
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            max-width: auto;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 16px;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
            margin-bottom: 16px;
            width: 100%;
        }
        table th, table td {
            border: 1px solid #dfe2e5;
            padding: 6px 13px;
        }
        table th {
            background-color: #f6f8fa;
            font-weight: 600;
        }
        a {
            color: #0366d6;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    ${markdownHtml}
</body>
</html>`;
        }
        
        htmlModeBtn.addEventListener('click', () => switchMode('html'));
        markdownModeBtn.addEventListener('click', () => switchMode('markdown'));
        fullscreenBtn.addEventListener('click', openFullscreen);
        closeFullscreenBtn.addEventListener('click', closeFullscreen);
        
        fullscreenModal.addEventListener('click', (e) => {
            if (e.target === fullscreenModal) {
                closeFullscreen();
            }
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !fullscreenModal.classList.contains('hidden')) {
                closeFullscreen();
            }
        });
        
        updatePreview();
    </script>
</body>
</html>