<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="åœ¨çº¿ HTML å’Œ Markdown å®æ—¶é¢„è§ˆå·¥å…·ï¼Œæ”¯æŒä»£ç ç¼–è¾‘ã€å³æ—¶æ¸²æŸ“ã€å…¨å±é¢„è§ˆã€‚æ— éœ€å®‰è£…ï¼Œå¼€ç®±å³ç”¨çš„å‰ç«¯å¼€å‘å·¥å…·ã€‚">
    <meta name="keywords" content="HTMLé¢„è§ˆ,Markdowné¢„è§ˆ,å®æ—¶æ¸²æŸ“,ä»£ç ç¼–è¾‘å™¨,åœ¨çº¿å·¥å…·,å‰ç«¯å¼€å‘,æ–‡æ¡£ç¼–è¾‘">
    <meta name="author" content="HTML Preview Tool">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#3B82F6">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://preview.lhqs.ink/">
    <meta property="og:title" content="HTML/Markdown å®æ—¶é¢„è§ˆå·¥å…· - åœ¨çº¿ä»£ç ç¼–è¾‘å™¨">
    <meta property="og:description" content="å…è´¹çš„åœ¨çº¿ HTML å’Œ Markdown å®æ—¶é¢„è§ˆå·¥å…·ï¼Œæ”¯æŒä»£ç ç¼–è¾‘ã€å³æ—¶æ¸²æŸ“ã€å…¨å±é¢„è§ˆã€‚æ— éœ€å®‰è£…ï¼Œå¼€ç®±å³ç”¨ã€‚">
    <meta property="og:image" content="https://preview.lhqs.ink/preview-image.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://preview.lhqs.ink/">
    <meta property="twitter:title" content="HTML/Markdown å®æ—¶é¢„è§ˆå·¥å…·">
    <meta property="twitter:description" content="åœ¨çº¿ HTML å’Œ Markdown å®æ—¶é¢„è§ˆå·¥å…·ï¼Œæ”¯æŒä»£ç ç¼–è¾‘ã€å³æ—¶æ¸²æŸ“ã€å…¨å±é¢„è§ˆã€‚">
    <meta property="twitter:image" content="https://preview.lhqs.ink/preview-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ“%3C/text%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3EğŸ“%3C/text%3E%3C/svg%3E">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://preview.lhqs.ink/">
    
    <title>HTML/Markdown å®æ—¶é¢„è§ˆå·¥å…· - åœ¨çº¿ä»£ç ç¼–è¾‘å™¨</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': {
                            50: '#f0f9ff',
                            500: '#06b6d4',
                            600: '#0891b2',
                            700: '#0e7490'
                        },
                        'gray': {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a'
                        }
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Inter', 'ui-sans-serif', 'system-ui', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'Fira Code', 'ui-monospace', 'SFMono-Regular', 'monospace']
                    }
                }
            }
        }
    </script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "HTML/Markdown å®æ—¶é¢„è§ˆå·¥å…·",
        "description": "åœ¨çº¿ HTML å’Œ Markdown å®æ—¶é¢„è§ˆå·¥å…·ï¼Œæ”¯æŒä»£ç ç¼–è¾‘ã€å³æ—¶æ¸²æŸ“ã€å…¨å±é¢„è§ˆã€‚",
        "url": "https://preview.lhqs.ink/",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "HTML å®æ—¶é¢„è§ˆ",
            "Markdown å®æ—¶é¢„è§ˆ",
            "å…¨å±é¢„è§ˆæ¨¡å¼",
            "å“åº”å¼è®¾è®¡",
            "æ— éœ€å®‰è£…"
        ]
    }
    </script>
</head>
<body class="bg-gray-50 h-screen overflow-hidden font-sans antialiased">
    <div class="h-full flex flex-col">
        <!-- ç°ä»£åŒ–é¡¶éƒ¨å¯¼èˆªæ  -->
        <header class="bg-white/80 backdrop-blur-md border-b border-gray-200/50 px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center">
                        <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-semibold text-gray-900">Preview</h1>
                        <p class="text-xs text-gray-500 -mt-1">HTML & Markdown</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-3 flex-wrap gap-2">
                    <!-- æ¨¡å¼åˆ‡æ¢å™¨ -->
                    <div class="flex bg-gray-100/80 rounded-xl p-0.5 backdrop-blur-sm">
                        <button 
                            id="htmlModeBtn"
                            class="px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 bg-white text-primary-600 shadow-sm"
                        >
                            HTML
                        </button>
                        <button 
                            id="markdownModeBtn"
                            class="px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 text-gray-600 hover:text-gray-900"
                        >
                            Markdown
                        </button>
                    </div>
                    
                    <!-- å…¨å±é¢„è§ˆæŒ‰é’® -->
                    <button 
                        id="fullscreenBtn"
                        class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-500 rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 shadow-sm"
                    >
                        <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
                        </svg>
                        é¢„è§ˆ
                    </button>
                    
                    <!-- GitHubé“¾æ¥ -->
                    <a 
                        href="https://github.com/lhqs1314/html-and-markdown-preview"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100/80"
                        title="åœ¨GitHubä¸ŠæŸ¥çœ‹é¡¹ç›®"
                    >
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </header>
        
        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <main class="flex-1 grid grid-cols-1 lg:grid-cols-2 gap-1 p-1 bg-gray-100/50">
            <!-- ç¼–è¾‘å™¨é¢æ¿ -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200/50 flex flex-col overflow-hidden">
                <!-- ç¼–è¾‘å™¨å¤´éƒ¨ -->
                <div class="bg-gray-50/80 px-4 py-3 border-b border-gray-200/50 flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-red-400 rounded-full"></div>
                        <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                        <span id="inputTitle" class="ml-3 text-sm font-medium text-gray-700">HTML ä»£ç </span>
                    </div>
                    <div class="flex items-center space-x-2 text-xs text-gray-500">
                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                        </svg>
                        å®æ—¶ç¼–è¾‘
                    </div>
                </div>
                
                <!-- ä»£ç ç¼–è¾‘åŒº -->
                <div class="flex-1 relative">
                    <textarea 
                        id="htmlInput" 
                        class="flex-1 w-full h-full resize-none border-0 p-4 font-mono text-sm leading-relaxed focus:outline-none bg-white/50 backdrop-blur-sm"
                        placeholder="åœ¨è¿™é‡Œè¾“å…¥ HTML ä»£ç ..."
                        spellcheck="false"
                    ><!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>ç°ä»£åŒ–ç¤ºä¾‹</title>
    <meta charset="UTF-8">
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            line-height: 1.6; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 40px 20px; 
        }
        .card { 
            background: rgba(255,255,255,0.1); 
            backdrop-filter: blur(10px); 
            border-radius: 12px; 
            padding: 30px; 
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .highlight { 
            background: rgba(255,255,255,0.2); 
            padding: 4px 8px; 
            border-radius: 6px; 
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸš€ ç°ä»£åŒ–é¢„è§ˆå·¥å…·</h1>
        <p>è¿™æ˜¯ä¸€ä¸ª<span class="highlight">ç°ä»£åŒ–è®¾è®¡</span>çš„ç¤ºä¾‹é¡µé¢ã€‚</p>
        <ul>
            <li>âœ¨ ç¾è§‚çš„è§†è§‰æ•ˆæœ</li>
            <li>ğŸ¯ å®æ—¶é¢„è§ˆ</li>
            <li>âš¡ æµç•…çš„åŠ¨ç”»</li>
        </ul>
    </div>
</body>
</html></textarea>
                    <!-- è¡Œå·æŒ‡ç¤ºå™¨ -->
                    <div class="absolute top-4 right-4 text-xs text-gray-400 bg-gray-100/80 px-2 py-1 rounded">
                        <span id="lineCount">1</span> è¡Œ
                    </div>
                </div>
            </div>
            
            <!-- é¢„è§ˆé¢æ¿ -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200/50 flex flex-col overflow-hidden">
                <!-- é¢„è§ˆå¤´éƒ¨ -->
                <div class="bg-gray-50/80 px-4 py-3 border-b border-gray-200/50 flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-red-400 rounded-full"></div>
                        <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                        <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                        <span id="previewTitle" class="ml-3 text-sm font-medium text-gray-700">å®æ—¶é¢„è§ˆ</span>
                    </div>
                    <div class="flex items-center space-x-2 text-xs text-gray-500">
                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                        å®æ—¶æ›´æ–°
                    </div>
                </div>
                
                <!-- é¢„è§ˆå†…å®¹ -->
                <div class="flex-1 overflow-hidden relative">
                    <iframe 
                        id="preview" 
                        class="w-full h-full border-0 bg-white"
                        sandbox="allow-scripts allow-same-origin"
                    ></iframe>
                </div>
            </div>
        </main>
    </div>

    <!-- ç°ä»£åŒ–å…¨å±é¢„è§ˆæ¨¡æ€æ¡† -->
    <div id="fullscreenModal" class="fixed inset-0 bg-gray-900/90 backdrop-blur-sm hidden z-50 opacity-0 transition-all duration-300">
        <div class="h-full flex flex-col animate-scale-up">
            <!-- å…¨å±é¢„è§ˆå¤´éƒ¨ -->
            <header class="bg-white/90 backdrop-blur-md border-b border-gray-200/50 px-6 py-3">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center">
                            <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900">å…¨å±é¢„è§ˆ</h3>
                            <p class="text-xs text-gray-500 -mt-1">Fullscreen Preview</p>
                        </div>
                    </div>
                    
                    <button 
                        id="closeFullscreenBtn"
                        class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300 transition-all duration-200"
                    >
                        <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                        é€€å‡º
                    </button>
                </div>
            </header>
            
            <!-- å…¨å±é¢„è§ˆå†…å®¹ -->
            <div class="flex-1 bg-white">
                <iframe 
                    id="fullscreenPreview" 
                    class="w-full h-full border-0 bg-white"
                    sandbox="allow-scripts allow-same-origin"
                ></iframe>
            </div>
        </div>
    </div>

    <style>
        /* è‡ªå®šä¹‰åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes scaleUp {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        .animate-scale-up {
            animation: scaleUp 0.2s ease-out;
        }
        
        /* ä»£ç ç¼–è¾‘å™¨æ ·å¼å¢å¼º */
        #htmlInput:focus {
            background-color: rgba(255, 255, 255, 0.8);
        }
        
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(156, 163, 175, 0.5);
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(156, 163, 175, 0.8);
        }
    </style>

    <script>
        const htmlInput = document.getElementById('htmlInput');
        const preview = document.getElementById('preview');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const fullscreenModal = document.getElementById('fullscreenModal');
        const fullscreenPreview = document.getElementById('fullscreenPreview');
        const closeFullscreenBtn = document.getElementById('closeFullscreenBtn');
        const htmlModeBtn = document.getElementById('htmlModeBtn');
        const markdownModeBtn = document.getElementById('markdownModeBtn');
        const inputTitle = document.getElementById('inputTitle');
        const previewTitle = document.getElementById('previewTitle');
        const lineCount = document.getElementById('lineCount');
        
        let currentMode = 'html';
        
        // è¡Œæ•°è®¡ç®—å‡½æ•°
        function updateLineCount() {
            const lines = htmlInput.value.split('\n').length;
            lineCount.textContent = lines;
        }
        
        const markdownSample = `# ğŸŒŸ ç°ä»£åŒ– Markdown é¢„è§ˆ

è¿™æ˜¯ä¸€ä¸ª**ç°ä»£åŒ–è®¾è®¡**çš„ Markdown å®æ—¶é¢„è§ˆç¤ºä¾‹ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **å®æ—¶æ¸²æŸ“** - å³æ—¶é¢„è§ˆæ•ˆæœ
- ğŸ¨ **ç°ä»£è®¾è®¡** - ç¾è§‚çš„è§†è§‰æ•ˆæœ  
- ğŸ“± **å“åº”å¼** - å®Œç¾é€‚é…å„ç§è®¾å¤‡
- âš¡ **æµç•…åŠ¨ç”»** - ä¸æ»‘çš„ç”¨æˆ·ä½“éªŒ

## ğŸ’» ä»£ç ç¤ºä¾‹

\`\`\`javascript
// ç°ä»£åŒ–çš„ JavaScript ç¤ºä¾‹
const createPreview = async () => {
    const content = await processMarkdown();
    return {
        html: content,
        style: 'modern',
        animation: true
    };
};
\`\`\`

## ğŸ“Š ç‰¹æ€§å¯¹æ¯”

| åŠŸèƒ½ | æ”¯æŒç¨‹åº¦ | ä½“éªŒè¯„åˆ† |
|------|----------|----------|
| å®æ—¶é¢„è§ˆ | âœ… å®Œå…¨æ”¯æŒ | â­â­â­â­â­ |
| è¯­æ³•é«˜äº® | âœ… å®Œå…¨æ”¯æŒ | â­â­â­â­â­ |
| å…¨å±æ¨¡å¼ | âœ… å®Œå…¨æ”¯æŒ | â­â­â­â­â­ |
| å“åº”å¼è®¾è®¡ | âœ… å®Œå…¨æ”¯æŒ | â­â­â­â­â­ |

> ğŸ’¡ **æç¤º**: è¿™ä¸ªå·¥å…·é‡‡ç”¨äº†ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

---

*æ„Ÿè°¢ä½¿ç”¨æˆ‘ä»¬çš„é¢„è§ˆå·¥å…·ï¼* ğŸ‰
`;
        
        const htmlSample = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>ç°ä»£åŒ–ç¤ºä¾‹</title>
    <meta charset="UTF-8">
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
            line-height: 1.6; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 40px 20px; 

        }
        .card { 
            background: rgba(255,255,255,0.1); 
            backdrop-filter: blur(10px); 
            border-radius: 12px; 
            padding: 30px; 
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .highlight { 
            background: rgba(255,255,255,0.2); 
            padding: 4px 8px; 
            border-radius: 6px; 
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸš€ ç°ä»£åŒ–é¢„è§ˆå·¥å…·</h1>
        <p>è¿™æ˜¯ä¸€ä¸ª<span class="highlight">ç°ä»£åŒ–è®¾è®¡</span>çš„ç¤ºä¾‹é¡µé¢ã€‚</p>
        <ul>
            <li>âœ¨ ç¾è§‚çš„è§†è§‰æ•ˆæœ</li>
            <li>ğŸ¯ å®æ—¶é¢„è§ˆ</li>
            <li>âš¡ æµç•…çš„åŠ¨ç”»</li>
        </ul>
    </div>
</body>
</html>`;

        function updatePreview() {
            const inputContent = htmlInput.value;
            let htmlContent;
            
            if (currentMode === 'markdown') {
                const markdownHtml = marked.parse(inputContent);
                htmlContent = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown é¢„è§ˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 10px; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 8px; }
        h3 { font-size: 1.25em; }
        p { margin-bottom: 16px; }
        ul, ol { padding-left: 30px; margin-bottom: 16px; }
        li { margin-bottom: 4px; }
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
        }
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            max-width: auto;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 16px;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
            margin-bottom: 16px;
            width: 100%;
        }
        table th, table td {
            border: 1px solid #dfe2e5;
            padding: 6px 13px;
        }
        table th {
            background-color: #f6f8fa;
            font-weight: 600;
        }
        a {
            color: #0366d6;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    ${markdownHtml}
</body>
</html>`;
            } else {
                htmlContent = inputContent;
            }
            
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            preview.onload = () => URL.revokeObjectURL(url);
            preview.src = url;
            
            if (!fullscreenModal.classList.contains('hidden')) {
                const fullscreenBlob = new Blob([htmlContent], { type: 'text/html' });
                const fullscreenUrl = URL.createObjectURL(fullscreenBlob);
                fullscreenPreview.onload = () => URL.revokeObjectURL(fullscreenUrl);
                fullscreenPreview.src = fullscreenUrl;
            }
        }

        function openFullscreen() {
            const inputContent = htmlInput.value;
            let htmlContent;
            
            if (currentMode === 'markdown') {
                const markdownHtml = marked.parse(inputContent);
                htmlContent = getMarkdownHtmlTemplate(markdownHtml);
            } else {
                htmlContent = inputContent;
            }
            
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            fullscreenPreview.onload = () => {
                URL.revokeObjectURL(url);
                fullscreenModal.classList.remove('opacity-0');
            };
            fullscreenPreview.src = url;
            
            fullscreenModal.classList.remove('hidden');
        }

        function closeFullscreen() {
            fullscreenModal.classList.add('opacity-0');
            setTimeout(() => {
                fullscreenModal.classList.add('hidden');
            }, 300);
        }

        htmlInput.addEventListener('input', () => {
            updatePreview();
            updateLineCount();
        });
        
        function switchMode(mode) {
            if (mode === currentMode) return;
            
            currentMode = mode;
            
            if (mode === 'html') {
                htmlModeBtn.className = 'px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 bg-white text-primary-600 shadow-sm';
                markdownModeBtn.className = 'px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 text-gray-600 hover:text-gray-900';
                inputTitle.textContent = 'HTML ä»£ç ';
                htmlInput.placeholder = 'åœ¨è¿™é‡Œè¾“å…¥ HTML ä»£ç ...';
                if (htmlInput.value === markdownSample || htmlInput.value === '') {
                    htmlInput.value = htmlSample;
                }
            } else {
                markdownModeBtn.className = 'px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 bg-white text-primary-600 shadow-sm';
                htmlModeBtn.className = 'px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 text-gray-600 hover:text-gray-900';
                inputTitle.textContent = 'Markdown ä»£ç ';
                htmlInput.placeholder = 'åœ¨è¿™é‡Œè¾“å…¥ Markdown ä»£ç ...';
                if (htmlInput.value === htmlSample || htmlInput.value === '') {
                    htmlInput.value = markdownSample;
                }
            }
            
            updatePreview();
            updateLineCount();
        }
        
        function getMarkdownHtmlTemplate(markdownHtml) {
            return `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown é¢„è§ˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 10px; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 8px; }
        h3 { font-size: 1.25em; }
        p { margin-bottom: 16px; }
        ul, ol { padding-left: 30px; margin-bottom: 16px; }
        li { margin-bottom: 4px; }
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
        }
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            max-width: auto;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 16px;
        }
        table {
            border-collapse: collapse;
            border-spacing: 0;
            margin-bottom: 16px;
            width: 100%;
        }
        table th, table td {
            border: 1px solid #dfe2e5;
            padding: 6px 13px;
        }
        table th {
            background-color: #f6f8fa;
            font-weight: 600;
        }
        a {
            color: #0366d6;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    ${markdownHtml}
</body>
</html>`;
        }
        
        htmlModeBtn.addEventListener('click', () => switchMode('html'));
        markdownModeBtn.addEventListener('click', () => switchMode('markdown'));
        fullscreenBtn.addEventListener('click', openFullscreen);
        closeFullscreenBtn.addEventListener('click', closeFullscreen);
        
        fullscreenModal.addEventListener('click', (e) => {
            if (e.target === fullscreenModal) {
                closeFullscreen();
            }
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !fullscreenModal.classList.contains('hidden')) {
                closeFullscreen();
            }
        });
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            updatePreview();
            updateLineCount();
            
            // æ·»åŠ åŠ è½½åŠ¨ç”»
            document.body.classList.add('animate-fade-in');
        });
        
        // å¦‚æœDOMå·²ç»åŠ è½½å®Œæˆï¼Œç›´æ¥æ‰§è¡Œåˆå§‹åŒ–
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                updatePreview();
                updateLineCount();
            });
        } else {
            updatePreview();
            updateLineCount();
        }
    </script>
</body>
</html>